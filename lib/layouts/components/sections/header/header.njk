{% from "components/_partials/branding/branding.njk" import branding %}
{% from "components/_partials/navigation/navigation.njk" import navigation %}

{# top message may exist but is disabled #}
{% set topMessageIsEnabled = topMessage and not topMessage.disable %}

<div class="header-wrapper{% if topMessageIsEnabled %} has-top-message{% endif %}">
  {% if topMessageIsEnabled %}
    <div class="top-message">
      <p class="top-message-text">
        {{ topMessage.text }}
        {% if topMessage.link %}
          <a href="{{ topMessage.link.url }}">{{ topMessage.link.label }}</a>
        {% endif %}
      </p>
      {% if topMessage.dismissible !== false %}
        <button type="button" class="top-message-close" aria-label="Dismiss message">
          {% include "icons/x.njk" %}
        </button>
      {% endif %}
    </div>
  {% endif %}

  <header>
      {% set link = '/' %}
      {% set img = { src: '/assets/images/metalsmith2025-logo-bug.png', alt: 'Metalsmith Starter' } %}

      {{ branding( link, img ) }}

      {{ navigation( mainMenu, urlPath )}}
  </header>
</div>
